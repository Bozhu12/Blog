---
title: Linux应用手册
author: 柏竹
permalink: /other/183ssax
date: 2021-06-07 00:00:00
categories: 
  - 运维工具
  - 系统运维
  - Linux
tags: 
  - Linux
  - 系统管理
  - 命令行
  - 教程
---

## 用户命令

**用户查看**

```sh
cat /etc/passwd
# 查询信息
root:x:0:0:root:/root:/bin/bash
	- root 用户名
	- x 密码
	- 0 账号ID
	- 0 组ID
```

**用户切换**

```sh
su <用户名>
```

**用户创建**

```sh
useradd <账号>
#示例 useradd sans
```

**用户删除**

```sh
# -r 选项 将用户连同主目录一起删除
userdel -r <账号>
```

**用户口令管理**

```sh
passwd [Options] <账号>
Options：
	-l 锁定口令，即禁用账号
	-u 口令解锁
	-d 使账号无口令
	-f 强迫用户下次登录时修改口令
```

## 目录命令

**目录查看**

```sh
# 查看当前目录文件名 
ls 
# 列出所有文件 (包括隐藏文件)
ll
# 查看当前目录路径
pwd
```

**目录切换**

```sh
# 切换指定目录
cd <目录>
# 返回上级目录
cd ..
# 返回根目录
cd /
```

**目录创建**

```sh
mkdir <目录名>
```

> 如果root用户创建，注意其他用户是不可用的需要！！

**目录移动**

```sh
# 将目录搬运指定路径
mv <目录> <目标路径>
```

**目录 打包&拆包**

```sh
# 打包
tar -cvf <目录/文件>.tar
# 压缩包
tar -zcvf <目录/文件>.tar.gz
# 拆包
tar -xvf <文件>.tar
# 解压 (需要指定路径)
tar -zxvf <File>.tar.gz -C <目录>

# zip 解压
# 1. 安装 yum install unzip
# 2. 解压
unzip <File> -d <目录>
```

**目录删除**

```sh
rmdir <目录>
```

> 删除目录不建议命令删除（容易翻车
> 还是乖乖手动在Linux上删除吧

## 文件命令

**文件查看**

```sh
# 标准形式全部展现
cat <文件>
# 当行形式展现
more <文件>
	- Enter键(回车) 下行
	- :f 显示当前行
	- q 离开
# 翻页形式展现
less <文件>
	- 空格键/pagedown键 下页
	- pageup键 上页
	- q 退出
```

**修改权限**

```sh
# 设置所有权
# chmod [参数] [文件]
chmod 777 <文件名>
```

**r读 -- w写 -- x执行** 

| 操作符   | r    | w    | x    | r    | w    | x    | r    | w    | x    |
| -------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 权限值   | 4    | 2    | 1    | 4    | 2    | 1    | 4    | 2    | 1    |
| 权限分配 |      |      | \|   |      |      | \|   |      |      | \|   |

权限分配分类顺序：所有者 -> 文件分组 -> 其他用户

> 权限类型会根据权限值相加判断权限是否赋予！

**文件创建** 

```sh
touch <文件名>
```

**文件编辑**

```sh
# 编辑器编辑
vim <文件>
	- Esc键 切换模式
	- i 编辑模式
	- :q 退出
	- :wq 保存并退出
	- :wq!保存并退出(强制)
# 重定向文件
# 覆盖模式
echo '<内容>'><文件>
# 追加模式
echo '<内容>'>><文件>
```

**文件 复制&拷贝 **

```sh
cp <旧文件> <新文件名> 
```

**文件移动**

```sh
mv <文件> <目录>
```

**删除文件**

```sh
rm <文件>
rm -rf <文件>
# 删除大小为0的文件
find ./ -size 0 | xargs rm -f &
```

> 删除文件不建议代码形式进行递归删除

[**文件查找**](#查找命令) 

## 查找命令

**进程查找**

```sh
# 查指定进程
ps -ef | grep <进程名>
# 查端口
netstat -antpl | grep <端口>
```

**观察动态文件**

用于展示日志使用

```sh
tail -f <文件名>
```

**文件查找**

```sh
# 在当前路径 按 文件名/目录名 查 
find -name <关键字> -ls
# 递归查找所有后缀 .xml文件
find . -name "*.xml"
# 递归查找所有后缀 .xml文件，且内容包含有 hello world
find . -name "*.xml" | xargs grep "hello world"
# 查找当前所有目录下的jar包文件
ls -l | grep '.jar'
# 在当前路径 按 模糊文件名/目录名 查
locate <关键字>
```

**环境变量属性值 查找** 

```sh
which <属性名>
# 查所有环境
which * 
```

**Vim查找关键字**

```sh
# 进入模式后 
# 1. 输入/+关键字 
# 2. 回车 N/n 进行切换上下
# 3. 取消高亮 :noh
```

## 系统级控制

| 命令              | 说明                    |
| ----------------- | ----------------------- |
| shutdown -h now   | 即刻关机                |
| shutdown -h 10    | 10分钟后关机            |
| shutdown -h 11:00 | 11：00关机              |
| shutdown -h +10   | 预定时间关机 (10分钟后) |
| shutdown -c       | 取消指定时间关机        |
| shutdown -r 10    | 10分钟之后重启          |
| shutdown -r 11:00 | 定时重启                |
| reboot            | 重启                    |
| sync              | buff数据同步到磁盘      |
| logout            | 退出登录Shell           |

## 磁盘和分区

|      |      |
| ---- | ---- |
|      |      |
|      |      |
|      |      |

## 其他命令

**系统命令 防火墙相关**

```sh
# 查看防火墙状态
systemctl status firewalld
# 启动防火墙
systemctl start firewalld
# 关闭防火墙
systemctl stop firewalld

# 查询防火墙服务是否开机启动
systemctl is-enabled firewalld
# 开机时启用防火墙服务
systemctl enable firewalld
# 开机时禁用防火墙服务
systemctl disable firewalld

# 查询已经启动的服务列表
systemctl list-unit-files|grep enabled
# 查询启动失败的服务列表
systemctl --failed
```

**系统命令 服务相关**

```sh
# 查看IP
ifconfig
# 查看网络服务状态
systemctl status network
# 启动网络服务
systemctl start network
#停止网络服务
systemctl stop network
# 重启网络服务
systemctl restart network

# 设置开机启动
systemctl enable network
```

**进程相关**

```sh
# 查看tomcat程序进程
ps -ef | grep tomcat 
# 高亮关键字
ps -ef | grep --coloer java
# 终止进程 终止19979进程
kill -9 19979
```

**时间相关**

参考 : [https://zhuanlan.zhihu.com/p/671142284](https://zhuanlan.zhihu.com/p/671142284)
